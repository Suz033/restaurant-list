<!-- search bar -->
<div class="container search-bar">
  <div class="search-bar-outer">
    <div class="search-bar-inner">
      <form action="/search">
        <h4 class="mb-2">尋找餐廳：</h4>
        <div class="input-group">
          <input type="text" name="keyword" class="form-control" placeholder="輸入餐廳、分類" aria-label="Restaurant Name..."
            value="{{ keyword }}" aria-describedby="search-button">
          <div class="input-group-append">
            <button class="btn btn-major" type="submit" id="search-button"><i class="fas fa-search"></i></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- restaurant list -->
<div class="container mt-5 mb-5">
  <div class="row">
    <div class="col-md-10 col-12 mx-auto">

      {{#if restaurants.length}}
        <div class="row row-cols-sm-3">

          {{#each restaurants}}

            <div class="text-secondary">
              <div class="card mb-3">
                <img class="card-img-top" src="{{{this.image}}}" alt="{{{this.name}}}">
                <div class="card-body p-3">
                  <h5 class="card-title mb-3">{{{this.name}}}</h5>

                  <div class="restaurant-category mb-1">
                    <i class="fas fa-utensils pr-2"></i> {{{this.category}}}
                    <span class="badge bg-warning font-weight-normal ms-3">
                      {{{this.rating}}}
                      <i class="fas fa-star fa-xs"></i>
                    </span>
                  </div>
                  
                  <div class="d-flex justify-content-end align-items-center mt-3">
                    <a href="/restaurants/{{{this._id}}}/edit" class="btn btn-outline-primary btn-sm ms-3">編輯</a>
                    <a href="/restaurants/{{{this._id}}}" class="btn btn-outline-primary btn-sm ms-3">詳情</a>
                    <form action="/restaurants/{{{this._id}}}/delete" method="post">
                      <button type="submit" class="btn btn-outline-danger btn-sm ms-3">刪除</a>
                    </form>
                  </div>

                </div>
              </div>
            </div>

          {{/each}}
          
          {{!-- <div class="text-secondary"> --}}
            <div class="card mb-3 ms-3" style="width: 18rem;height: 20rem;">
              
              <div class="card-body p-3 d-flex justify-content-center align-items-center mt-3">
                <a href="/add" class="btn btn-primary">新增更多餐廳？</a>
              </div>
            </div>
          {{!-- </div> --}}

        </div>
      

        {{else}}
        <div class="d-flex justify-content-center mb-4">
          <h2 class="text-secondary">尚無餐廳上架</h2>
        </div>
        <div class="d-flex justify-content-center">
          <div class="card mb-3 ms-3" style="width: 18rem;height: 20rem;">
            <div class="card-body p-3 d-flex justify-content-center align-items-center mt-3">
              <a href="/add" class="btn btn-primary">新增更多餐廳？</a>          
            </div>
          </div>
        </div>
          
      {{/if}}

    </div>

    
  </div>
</div>